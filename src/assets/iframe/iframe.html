<!doctype HTML>
<html>
<head>
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.7/aframe/build/aframe-ar.js"></script>
    <script>
        AFRAME.registerComponent('vidhandler', {
  init: function () {
    this.toggle = false;
    this.vid = document.querySelector("#vid")
    this.vid.pause()
    },
    tick:function(){
        if(this.el.object3D.visible == true){
            if(!this.toggle){
                this.toggle = true;
                this.vid.play();
            }
    }else{
    this.toggle = false;
    this.vid.pause();
  }
 }
});
    </script>
</head>

    <body style='margin : 0px; overflow: hidden;'>
        <a-scene embedded arjs='sourceType: webcam; detectionMode: mono; trackingMethod: best; debugUIEnabled: false;' vr-mode-ui="enabled: false" > 
            
            <a-assets>
                <video id="vid" crossOrigin="anonymous" id="vid"  loop="true" type="video/mp4"loop="false" src="../video1.webm" crossorigin>
            </a-assets>

            <a-marker  type="pattern" preset="pattern" url="../pattern.patt" vidhandler>
                <a-video src="#vid" width="1" height="1" rotation="270 0 0" ></a-video>
            </a-marker>

        <a-entity camera></a-entity>
        
        </a-scene>
    </body>
</html>